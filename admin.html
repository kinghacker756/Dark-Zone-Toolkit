<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DTZ Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- FONT -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<style>
:root{
 --bg:#05060a;
 --card:#0b0f1a;
 --neon:#00ffe7;
 --pink:#ff0077;
 --text:#e6faff;
}
*{box-sizing:border-box;margin:0;padding:0}

body{
 background:radial-gradient(circle at top,#0a1422,#05060a);
 color:var(--text);
 font-family:'Orbitron',sans-serif;
 min-height:100vh;
}

/* HEADER */
header{
 padding:20px;
 text-align:center;
 border-bottom:1px solid #00ffe722;
}
header h1{
 font-size:1.6rem;
 background:linear-gradient(45deg,var(--neon),var(--pink));
 -webkit-background-clip:text;
 -webkit-text-fill-color:transparent;
}
header p{font-size:.75rem;opacity:.6}

/* GRID */
.dashboard{
 padding:16px;
 display:grid;
 grid-template-columns:1fr;
 gap:16px;
}

/* CARD */
.card{
 background:linear-gradient(180deg,#0e1324,#080b15);
 border-radius:18px;
 padding:18px;
 box-shadow:0 0 25px rgba(0,255,231,.15);
}
.card h2{
 font-size:1rem;
 margin-bottom:10px;
 color:var(--neon);
}
.stat{
 font-size:2.2rem;
 font-weight:800;
 margin-top:8px;
}

/* REPORT LIST */
.report{
 font-size:.8rem;
 padding:10px;
 border-bottom:1px solid #ffffff12;
}

/* BUTTONS */
button{
 width:100%;
 padding:14px;
 margin-top:12px;
 border:none;
 border-radius:25px;
 background:linear-gradient(45deg,var(--neon),var(--pink));
 color:#000;
 font-weight:700;
 font-size:.85rem;
}

/* FOOTER NAV */
nav{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 background:#070a12;
 display:flex;
 justify-content:space-around;
 padding:10px 0;
 border-top:1px solid #00ffe722;
}
nav button{
 width:auto;
 padding:8px 14px;
 font-size:.7rem;
}
</style>
</head>

<body>

<header>
<h1>DARK TECH ZONE</h1>
<p>Admin Control ‚Ä¢ Mobile Dashboard</p>
</header>

<section class="dashboard">

<div class="card">
<h2>üìÖ Daily Visits</h2>
<div class="stat" id="daily">0</div>
</div>

<div class="card">
<h2>üë§ Monthly Users</h2>
<div class="stat" id="monthly">0</div>
</div>

<div class="card">
<h2>üë• Total Users</h2>
<div class="stat" id="users">0</div>
</div>

<div class="card">
<h2>üìÑ Latest Reports</h2>
<div id="reports"></div>
</div>

</section>

<nav>
<button onclick="loadStats()">Refresh</button>
<button onclick="logout()">Logout</button>
</nav>

<script>
/* FIREBASE CONFIG */
firebase.initializeApp({
 apiKey:"YOUR_API_KEY",
 authDomain:"YOUR_DOMAIN",
 projectId:"YOUR_PROJECT_ID"
});
const db=firebase.firestore();
const auth=firebase.auth();

/* LOAD STATS */
async function loadStats(){
 const daily=await db.collection("daily_visits").get();
 const monthly=await db.collection("monthly_users").get();
 const users=await db.collection("users").get();
 const reports=await db.collection("reports").orderBy("time","desc").limit(5).get();

 document.getElementById("daily").innerText=daily.size;
 document.getElementById("monthly").innerText=monthly.size;
 document.getElementById("users").innerText=users.size;

 let html="";
 reports.forEach(r=>{
  html+=`<div class="report">üìù ${r.data().message || "Report logged"}</div>`;
 });
 document.getElementById("reports").innerHTML=html || "No reports";
}
loadStats();

/* LOGOUT */
function logout(){
 auth.signOut().then(()=>location.href="login.html");
}

/* AUTH PROTECT */
auth.onAuthStateChanged(u=>{
 if(!u) location.href="login.html";
});
</script>

</body>
</html>
